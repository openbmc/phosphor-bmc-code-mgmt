{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "98e6f6f3_c635055a",
        "filename": "item_updater.cpp",
        "patchSetId": 5
      },
      "lineNbr": 853,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2023-09-19T05:43:00Z",
      "side": 1,
      "message": "This is not documented dbus object and it\u0027s not clear when and how the â€œRevision\" interface is created and the property is set.\n\nCould you elaborate?\n\nInstead of setting the \"Revision\" interface somewhere else, why not let that app/service set software-manager\u0027s BIOS version directly?",
      "revId": "370b2d49ea5de9ca750f5e719e51e511949ec2e7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47d0c173_f92204d8",
        "filename": "item_updater.cpp",
        "patchSetId": 5
      },
      "lineNbr": 853,
      "author": {
        "id": 1001598
      },
      "writtenOn": "2023-10-03T06:00:58Z",
      "side": 1,
      "message": "Sorry for late reply.\nThe bios object is created by smbios-mdr.\nRef:https://github.com/openbmc/smbios-mdr/blob/21cb0e8750b76fff5860b985d8122fd653ca8a1f/include/smbios_mdrv2.hpp#L168\n\nsmbios-mdr parses a binary SMBIOS table(/var/lib/smbios/smbios2) which is sent from host firmware(BIOS) and publishes the system information on D-Bus.\n\nGetting bios version from smbios-mdr is good for data synchronization.",
      "parentUuid": "98e6f6f3_c635055a",
      "revId": "370b2d49ea5de9ca750f5e719e51e511949ec2e7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fde8ec73_3d1b7bb4",
        "filename": "item_updater.cpp",
        "patchSetId": 5
      },
      "lineNbr": 853,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2023-10-07T06:48:52Z",
      "side": 1,
      "message": "This assumes software-manager should depend on the smbios-mdr service.\nI do not think it\u0027s a good idea to have such dependency.\n\nCould you consider making other service (e.g. smbios-mdr, or maybe phosphor-dbus-monitor) to set the property of software-manager\u0027s BIOS version object?",
      "parentUuid": "47d0c173_f92204d8",
      "revId": "370b2d49ea5de9ca750f5e719e51e511949ec2e7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "625aeccc_ad078610",
        "filename": "item_updater.cpp",
        "patchSetId": 5
      },
      "lineNbr": 853,
      "author": {
        "id": 1001598
      },
      "writtenOn": "2023-10-13T06:44:09Z",
      "side": 1,
      "message": "Smbios-mdr sets the property at https://github.com/openbmc/smbios-mdr/blob/e05a542324fcac40c9ff100287302ee92ed03621/src/system.cpp#L152\n\nBut ItemUpdater will get \"null\" if it is restarted for some reason.\n\nMay I ask what the reason is to set the property by smbios-mdr, not to get the property by ItemUpdater instead?",
      "parentUuid": "fde8ec73_3d1b7bb4",
      "revId": "370b2d49ea5de9ca750f5e719e51e511949ec2e7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64c5ce15_1eae2e87",
        "filename": "item_updater.cpp",
        "patchSetId": 5
      },
      "lineNbr": 853,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2023-10-13T16:55:21Z",
      "side": 1,
      "message": "\u003e Smbios-mdr sets the property at https://github.com/openbmc/smbios-mdr/blob/e05a542324fcac40c9ff100287302ee92ed03621/src/system.cpp#L152\n\nThat\u0027s good.\n\n\u003e But ItemUpdater will get \"null\" if it is restarted for some reason.\n\nThis is another issue to resolve. Maybe you can serialize the BIOS version, or you could use some post-init script to fetch and update the BIOS version in the software-manager service.\n\nBy using `/xyz/openbmc_project/inventory/system/chassis/motherboard/bios` in this patch, it\u0027s actually use the \"serialized\" one as well, is it?\n\n\u003e May I ask what the reason is to set the property by smbios-mdr, not to get the property by ItemUpdater instead?\n\nBe noted that smbios-mdr is not widely used and some x86 systems do not use this repo as well. So we can not assume it\u0027s generic in OpenBMC. software-manager is kind of generic here.\nThat\u0027s why I suggest setting the property by smbios-mdr.",
      "parentUuid": "625aeccc_ad078610",
      "revId": "370b2d49ea5de9ca750f5e719e51e511949ec2e7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4edf1c1_731bbc66",
        "filename": "item_updater.cpp",
        "patchSetId": 5
      },
      "lineNbr": 853,
      "author": {
        "id": 1001598
      },
      "writtenOn": "2023-10-17T07:06:48Z",
      "side": 1,
      "message": "OK, Thanks for replies and suggestions.",
      "parentUuid": "64c5ce15_1eae2e87",
      "revId": "370b2d49ea5de9ca750f5e719e51e511949ec2e7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}