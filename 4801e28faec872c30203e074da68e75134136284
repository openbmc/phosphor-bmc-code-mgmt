{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9be988c0_527256a8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2022-03-23T22:06:16Z",
      "side": 1,
      "message": "Rather than asserting they are being corrected state that you are allowing group wheel to upload to the/tmp/images.\n\ndo we unpack and verify signature in a root only directory?",
      "revId": "4801e28faec872c30203e074da68e75134136284",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a010665_a7d52644",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1001090
      },
      "writtenOn": "2022-03-24T15:20:43Z",
      "side": 1,
      "message": "I think /tmp/images is a root only directory, and that\u0027s where verification happens. It\u0027s handled by activation.cpp.\n\nAnd sure, I\u0027ll update the commit message.",
      "parentUuid": "9be988c0_527256a8",
      "revId": "4801e28faec872c30203e074da68e75134136284",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7400ed9_25005d82",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2022-03-24T16:23:08Z",
      "side": 1,
      "message": "tmp images is exactly the directory we are relaxing to group wheel in this commit",
      "parentUuid": "9a010665_a7d52644",
      "revId": "4801e28faec872c30203e074da68e75134136284",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "274ece95_b90251fa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1001090
      },
      "writtenOn": "2022-03-24T17:34:09Z",
      "side": 1,
      "message": "Oh right. In that case I\u0027m not sure what you\u0027re looking to have happen. What do you think should be changed?",
      "parentUuid": "f7400ed9_25005d82",
      "revId": "4801e28faec872c30203e074da68e75134136284",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e48c62a6_167b9759",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2022-03-24T17:38:24Z",
      "side": 1,
      "message": "an obvious choice would be unpack and verify in a subdirectory with 700 root.  I haven\u0027t studied the code but it should be simple.   the image to unpack can remain in the images directory if we don\u0027t use it again for time of check vs time of use",
      "parentUuid": "274ece95_b90251fa",
      "revId": "4801e28faec872c30203e074da68e75134136284",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "682efd15_065f1f03",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2022-03-24T19:09:39Z",
      "side": 1,
      "message": "the image is unpacked in a /tmp/images/\u003cid\u003e/ subdirectory, seems the \u003cid\u003e/ subdirectory should be created with 700 root",
      "parentUuid": "e48c62a6_167b9759",
      "revId": "4801e28faec872c30203e074da68e75134136284",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c00e917f_fa3e44d4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1001090
      },
      "writtenOn": "2022-03-25T19:58:16Z",
      "side": 1,
      "message": "So it looks like the image is unpacked specifically in image_manager.cpp\u0027s processImage function, which uses mkdtemp. mkdtemp creates a subdirectory with permissions 700 to do the processing in.",
      "parentUuid": "682efd15_065f1f03",
      "revId": "4801e28faec872c30203e074da68e75134136284",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}