{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "811352c7_61bc3d74",
        "filename": "bmc/meson.build",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-08-21T14:56:52Z",
      "side": 1,
      "message": "I suspect you need `set_quoted` here?  Otherwise this generates some invalid C/C++ in the config.h:\n\n```\n#define STORAGE_MODE mmc\n```",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88042e43_21494446",
        "filename": "bmc/meson.build",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1002108
      },
      "writtenOn": "2025-08-22T02:23:05Z",
      "side": 1,
      "message": "Yes. Please help review it again. Thanks.",
      "parentUuid": "811352c7_61bc3d74",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce046b72_cd360d90",
        "filename": "bmc/mmc/obmc-flash-mmc-mirroruboot.service.in",
        "patchSetId": 7
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-08-21T14:56:52Z",
      "side": 1,
      "message": "`mode\u003d@STORAGE_MODE@` should be sufficient; drop the quotes.  If you keep the quotes and add `conf.set_quoted` you end up with `\"mode\u003d\"mmc\"\"`, which is definitely broken.",
      "range": {
        "startLine": 7,
        "startChar": 12,
        "endLine": 7,
        "endChar": 33
      },
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "542c550d_bdc08eba",
        "filename": "bmc/mmc/obmc-flash-mmc-mirroruboot.service.in",
        "patchSetId": 7
      },
      "lineNbr": 7,
      "author": {
        "id": 1002108
      },
      "writtenOn": "2025-08-22T02:23:05Z",
      "side": 1,
      "message": "Yes. Please help review it again. Thanks.",
      "parentUuid": "ce046b72_cd360d90",
      "range": {
        "startLine": 7,
        "startChar": 12,
        "endLine": 7,
        "endChar": 33
      },
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7160b8ce_1e76bf3d",
        "filename": "bmc/obmc-flash-bmc",
        "patchSetId": 7
      },
      "lineNbr": 585,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-08-21T14:56:52Z",
      "side": 1,
      "message": "This seems to still be using `by-path` which assumes a particular partition layout, rather than `by-partlabel`, right?",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19b147bb_9edb5670",
        "filename": "bmc/obmc-flash-bmc",
        "patchSetId": 7
      },
      "lineNbr": 585,
      "author": {
        "id": 1002108
      },
      "writtenOn": "2025-08-22T02:23:05Z",
      "side": 1,
      "message": "Yes, the by-partlabel doesn’t expose the boot partitions. For eMMC the boot partition is stable `/dev/mmcblk0boot0`, but for UFS the boot LUNs appears as `/dev/sdX`, which can change. That’s why I used by-path to find them.\n\nMaybe my way is not good enough. the `readlink -f /dev/disk/by-path/*ufshc-scsi-0:0:0:1` still depends on how the UFS LUNs are created (see the U-Boot commands below).\n\n```\nufs create lun 0 100000 (create 16GB user area)\nufs create boot 1 1000000 (create 4MB boot part 1)\nufs create boot 2 1000000 (create 4MB boot part 2)\n```\n\n```\nroot@ast2700-ufs:~# ls -l /dev/disk/by-partlabel/\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 boot-a -\u003e ../../sdb2\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 boot-b -\u003e ../../sdb3\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 primary -\u003e ../../sdb1\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 rofs-a -\u003e ../../sdb4\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 rofs-b -\u003e ../../sdb5\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 rwfs -\u003e ../../sdb6\n\nroot@ast2700-ufs:~# readlink -f /dev/disk/by-path/*ufshc-scsi-0:0:0:1\n/dev/sdc\n```",
      "parentUuid": "7160b8ce_1e76bf3d",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e5029ba_c2fd793b",
        "filename": "bmc/obmc-flash-bmc",
        "patchSetId": 7
      },
      "lineNbr": 585,
      "author": {
        "id": 1002108
      },
      "writtenOn": "2025-09-30T03:09:10Z",
      "side": 1,
      "message": "@patrick@stwcx.xyz Do you have any idea about this commit? Thanks.",
      "parentUuid": "19b147bb_9edb5670",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8a5285b_b1d2846a",
        "filename": "bmc/obmc-flash-bmc",
        "patchSetId": 7
      },
      "lineNbr": 585,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-09-30T20:56:46Z",
      "side": 1,
      "message": "It\u0027s not clear to me why you want to use `by-path` instead of `by-partlabel`.  It looks like boot-a and boot-b show up in your example here when using `by-partlabel`.",
      "parentUuid": "7e5029ba_c2fd793b",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d0eaa35_6ac9e083",
        "filename": "bmc/obmc-flash-bmc",
        "patchSetId": 7
      },
      "lineNbr": 585,
      "author": {
        "id": 1002108
      },
      "writtenOn": "2025-10-01T01:18:23Z",
      "side": 1,
      "message": "The boot partitions do not carry a GPT and therefore never appear under `/dev/disk/by-partlabel`. U-Boot is usually stored in the boot partitions. The boot-a and boot-b partitions under `/dev/disk/by-partlabel` usually contain Linux FIT images.\n\nEMMC:\n\n```\nroot@ast2600-emmc~# ls -l /dev/disk/by-partlabel/\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 boot-a -\u003e ../../mmcblk0p2\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 boot-b -\u003e ../../mmcblk0p3\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 primary -\u003e ../../mmcblk0p1\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 rofs-a -\u003e ../../mmcblk0p4\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 rofs-b -\u003e ../../mmcblk0p5\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 rwfs -\u003e ../../mmcblk0p6\n\nroot@ast2600-emmc:~# ls -l /dev/disk/by-path/\nlrwxrwxrwx    1 root     root            13 Jan  1  1970 platform-1e750100.sdhci -\u003e ../../mmcblk0\nlrwxrwxrwx    1 root     root            18 Jan  1  1970 platform-1e750100.sdhci-boot0 -\u003e ../../mmcblk0boot0\nlrwxrwxrwx    1 root     root            18 Jan  1  1970 platform-1e750100.sdhci-boot1 -\u003e ../../mmcblk0boot1\ndrwxr-xr-x    7 root     root           140 Jan  1  1970 platform-1e750100.sdhci-part\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 platform-1e750100.sdhci-part1 -\u003e ../../mmcblk0p1\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 platform-1e750100.sdhci-part2 -\u003e ../../mmcblk0p2\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 platform-1e750100.sdhci-part3 -\u003e ../../mmcblk0p3\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 platform-1e750100.sdhci-part4 -\u003e ../../mmcblk0p4\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 platform-1e750100.sdhci-part5 -\u003e ../../mmcblk0p5\nlrwxrwxrwx    1 root     root            15 Jan  1  1970 platform-1e750100.sdhci-part6 -\u003e ../../mmcblk0p6\n```\n\nUFS:\n\n```\nroot@ast2700-ufs:~# ls -l /dev/disk/by-partlabel/\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 boot-a -\u003e ../../sda2\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 boot-b -\u003e ../../sda3\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 primary -\u003e ../../sda1\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 rofs-a -\u003e ../../sda4\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 rofs-b -\u003e ../../sda5\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 rwfs -\u003e ../../sda6\nroot@ast2700-ufs:~# ls -l /dev/disk/by-path/\nlrwxrwxrwx    1 root     root             9 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0 -\u003e ../../sda\ndrwxr-xr-x    7 root     root           140 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0-part\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0-part1 -\u003e ../../sda1\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0-part2 -\u003e ../../sda2\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0-part3 -\u003e ../../sda3\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0-part4 -\u003e ../../sda4\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0-part5 -\u003e ../../sda5\nlrwxrwxrwx    1 root     root            10 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:0-part6 -\u003e ../../sda6\nlrwxrwxrwx    1 root     root             9 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:1 -\u003e ../../sdb\nlrwxrwxrwx    1 root     root             9 Jan  1  1970 platform-12c08200.ufshc-scsi-0:0:0:2 -\u003e ../../sdc\n```",
      "parentUuid": "a8a5285b_b1d2846a",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38552249_9408ced9",
        "filename": "bmc/obmc-flash-bmc",
        "patchSetId": 7
      },
      "lineNbr": 585,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-03T17:01:15Z",
      "side": 1,
      "message": "Why aren\u0027t we adding a GPT for them?  This is not obvious to me.\n\nIf we don\u0027t have a GPT for them, how do we update them from Linux?\n\nAre they stored in the MBR location?  If so, can we use the symlink from the `boot-a` to find the parent device?",
      "parentUuid": "4d0eaa35_6ac9e083",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9dd61ec_7325b306",
        "filename": "meson.options",
        "patchSetId": 7
      },
      "lineNbr": 17,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-08-21T14:56:52Z",
      "side": 1,
      "message": "We maybe need a \u0027none\u0027 or \u0027spi\u0027 also?  Or else should this be \u0027mmc-storage-mode\u0027, since it is only used when `bmc-layout \u003d\u003d mmc`?  Or should we just add a \u0027ufs\u0027 to the \u0027bmc-layout\u0027?",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "78d19fbf_ec7433e1",
        "filename": "meson.options",
        "patchSetId": 7
      },
      "lineNbr": 17,
      "author": {
        "id": 1002108
      },
      "writtenOn": "2025-08-22T02:23:05Z",
      "side": 1,
      "message": "I don\u0027t think we need a `ufs` to the bmc-layout. The build process is essentially the same as MMC; only the sector size differs. I’ve changed the option to `mmc-storage-mode`. Please review again. Thanks.",
      "parentUuid": "e9dd61ec_7325b306",
      "revId": "75ec3f50a8ba8284d0b68dea6a6bc9a0716226a7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}